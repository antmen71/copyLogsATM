- Check if ini file exists. If not create a new one with default values
- Check if ini file has the correct parameters. If not correct the parameter
- Date filter is now applied for all the log files
- program is now class based
- Application log is more detailed







check ini file
check dates and return logDatesArray


log dosyasını kontrol et, 10 mb üzerinde ise arşivle ve sil.
log dosyası yoksa yarat varsa sonuna ekle
timer başlat

ATM tipini kontrol et
ATM tipine göre registry keyleri kontrol et

ini dosyası
	dosya yoksa yarat
	dosya varsa kontrol et

target path string yarat, boş olarak
ini dosyasından targetpath kontrol et
	boş ise default olarak c:\grgLogs olarak belirle
Eğer targetpath klasörü varsa sil
Targetpath klasörü yoksa oluştur

ini dosyasından tarihleri al
tarihleri kontrol et
boş veya geçersiz ise düzenle (bugünün tarihine ve başlagıcı bir hafta öncesine eşitle)
tarih aralığına göre tarif array i oluştur.

Log klasöründeki dosyaların listesini oluştur
Tarih filtresine göre dosyaları seç
windows sistem event dosyasını kopyala

dosyaları ziple

readDevLogReturn değerini kontrol et


This software aims to copy the logs, generated by the hardware and software inside the ATM, based on a date filter.
It copies the sp4, sp5, CRM/CDM, driver, dunite, XFS manager, YDC and Windows system event logs.
After copying the logs, filtered by the date criteria, the logs are zipped into one file.
At each run, first the output folder is checked whether it exists. If it exists it will be deleted and recreated again to prevent the folder size gets too big.
Program also creates a log file (LogFileClC.txt) in the same folder where you run the executable. 
If this log file reaches 10 MB in size it will be zipped into a subfolder (archiveLogFiles) under the parent folder and deleted.


This program has two optional files.
1. The call.bat; which calls the copyLogConsole.exe file and returns the error level code that the program generates (if it's 0 everything is OK)
2. copyLogConsole.ini file which has the configuration information for the program to run. Software checks if this file exists in the current folder. 
If it can't find the ini file then it is created automatically with default values.

In the configuration file you can define;

1. If the logs will be copied or not (true/false)
2. The path of the log files (path information. For ex. C:\GrgBanking\Logs). 
3. Name of the log file. (This section is used for only sp4 actual log, sp5 log, and XFS manager log files. Generally you don't need to change these values.)
4. If you want to copy the logs between the given beginning and ending dates (please write true to logDateCriteria and change the dates). If you want to copy the logs  (please write true to logIntervalCriteria).
5. the output directory(You can change this if you want to copy the logs to a usb stick or mapped drive) that the logs will be copied.
6. The SP registry values for generating the CRM/CDM logs
7. The ATM type.

Configuration file key and values:

sp4Log: true if you want to copy the sp4Logs, false if you don't want to copy
sp4LogPath: Please enter the log path that the sp4 logs are generated. Normally this will be C:\GrgBanking\log
sp4LogName: For sp4 logs this is the actual sp4 log file. Default file name is grgsp.grglog, you don't have to change this

sp5Log: true if you want to copy the sp5Log, false if you don't want to copy
sp5LogPath: Please enter the log path that the sp5 log are generated. Normally this will be C:\GrgBanking\log
sp5LogName: This is the name of sp5 log file. The default is: GrgLog.dxdb, you don't have to change this.

CRMLog=true if you want to copy CRM/CDM logs.
CRMLogPath= This is where the CRM/CDM logs are copied from hardware into the PC. This is also the value that will be written when the registry value readDevLogPath is created. Default is C:\GrgBanking\log\CRMLog
CRMLogName= This is for the future reference. You don't have to enter anything here. 

driverLog= true if you want to copy the driver logs, false if you don't want to copy
driverLogPath= Please enter the path for the driver log files. Default is C:\Program Files\GrgBanking\GRGXFSSP\DevDriverLog\
driverLogName=This is for the future reference. You don't have to enter anything here.

duniteLog=true if you want to copy the dunite logs, false if you don't want to copy
duniteLogPath= Please enter the path for the dunite log files. Default is C:\GrgBanking\log\hardware\
duniteLogName= This is for the future reference. You don't have to enter anything here.

XFSManLog= true if you want to copy the XFS manager logs, false if you don't want to copy
XFSManLogPath= Please enter the path for the XFS manager log file. Default is C:\GrgBanking\log\GrgXfsManager\
XFSMANLogName= This is the name of XFS manager log file. The default is: GrgXfsManager.log, you don't have to change this.

YDCLog= true if you want to copy the YDC logs, false if you don't want to copy. You dont have to define the paths for YDC logs, the program will read the path information from registry.

winSystemLog= true if you want to copy the Windows system event logs, false if you don't want to copy

logDateCriteria=True if you want to define the date criteria between two dates.
The values below will be the beginning date for the above criteria. If the values are not relevant they will be changed as the date of one week before.
logDateBegYear= Year of the beginning date. 
logDateBegMonth= Month of the beginning date
logDateBegDay= Day of the beginning date
The values below will be the ending date. If the values are not relevant they will be changed as today.
logDateEndYear= Year of the ending date
logDateEndMonth= Month of the ending date
logDateEndDay= Day of the ending date

logIntervalCriteria= True if you want to give a number of days which will define the beginning date from today (For ex. if it reads 7 then the last 7 days logs will be copied)
logDays= Please enter a number of days for logIntervalCriteria (for ex. 10 means the the latest 10 days')

!!!Please do not write only drive letters , or a folder which has already some files and folders here, other than the previous logs, in it. !!!
outputDirectory= This is where the logs will be copied in. You can change this if you want to copy the logs to a usb stick or a mapped drive. The default path is C:\GRGLogs

CRMLogDays= This is for the registry value readDevLogDays, that SP will look when copying CRM/CDM logs. For ex. 1 means only last days log will be copied. The dafult value is 1

atmType= This is the type of the ATM. Software will compare the value from registry and if the two values are not equal it will override this value with the one from the registry.


If the ini file cannot be found, configuration file will be generated by the default values;

1. only the sp4 and CRM/CDM logs will be copied
2. logIntervalCriteria will be used for date filtering and it will be 7 (so only the logs from the last week will be copied)
3. the output folder is C:\GrgLogs
4. CRM/CDM log days is 1 day. This is the criteria for SP when copying the logs from the CRM/CDM into the computer.
4. ATM type information will be taken from the registry

The normal scenario is that the copyLogTool will run once a week to get the last 7 days logs, while the CRM/CDM logs are copied daily.

